import{w as Z,t as ee,d as z,u as ne,r as m,g as k,c as ae,_ as p,a as t,C as te,i as oe,b as se,e as le,v as ce,f as L,T as ie,P as _,h as ue,I as re,j as pe,E as de,k as fe,l as ve,m as _e,n as me,o as ye,p as Ce,q as j,s as ge,x as R,y as U,z as xe,A as he,B as A,D as E,F as r,G as $,H as B,J as Ae,K as Ee,L as q,M as Ie}from"./index.56e272e5.js";import{B as we,_ as be}from"./index.764e8622.js";import{_ as Fe,a as ke}from"./index.a372a3c5.js";import{c as Be}from"./index.89474b9c.js";import"./index.3e7e7e0a.js";var Se={success:ue,info:re,error:pe,warning:de},Pe={success:fe,info:ve,error:_e,warning:me},Te=ee("success","info","warning","error"),De=function(){return{type:_.oneOf(Te),closable:{type:Boolean,default:void 0},closeText:_.any,message:_.any,description:_.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:_.any,closeIcon:_.any,onClose:Function}},Me=z({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:De(),setup:function(a,l){var s=l.slots,f=l.emit,v=l.attrs,y=l.expose,o=ne("alert",a),c=o.prefixCls,S=o.direction,i=m(!1),C=m(!1),I=m(),P=function(n){n.preventDefault();var u=I.value;u.style.height="".concat(u.offsetHeight,"px"),u.style.height="".concat(u.offsetHeight,"px"),i.value=!0,f("close",n)},M=function(){var n;i.value=!1,C.value=!0,(n=a.afterClose)===null||n===void 0||n.call(a)};y({animationEnd:M});var J=m({});return function(){var g,n,u=a.banner,O=a.closeIcon,N=O===void 0?(g=s.closeIcon)===null||g===void 0?void 0:g.call(s):O,T=a.closable,x=a.type,h=a.showIcon,D=k(s,a,"closeText"),w=k(s,a,"description"),V=k(s,a,"message"),b=k(s,a,"icon");h=u&&h===void 0?!0:h,x=u&&x===void 0?"warning":x||"info";var K=(w?Pe:Se)[x]||null;D&&(T=!0);var e=c.value,Q=ae(e,(n={},p(n,"".concat(e,"-").concat(x),!0),p(n,"".concat(e,"-closing"),i.value),p(n,"".concat(e,"-with-description"),!!w),p(n,"".concat(e,"-no-icon"),!h),p(n,"".concat(e,"-banner"),!!u),p(n,"".concat(e,"-closable"),T),p(n,"".concat(e,"-rtl"),S.value==="rtl"),n)),W=T?t("button",{type:"button",onClick:P,class:"".concat(e,"-close-icon"),tabindex:0},[D?t("span",{class:"".concat(e,"-close-text")},[D]):N===void 0?t(te,null,null):N]):null,X=b&&(oe(b)?Be(b,{class:"".concat(e,"-icon")}):t("span",{class:"".concat(e,"-icon")},[b]))||t(K,{class:"".concat(e,"-icon")},null),Y=se("".concat(e,"-motion"),{appear:!1,css:!0,onAfterLeave:M,onBeforeLeave:function(F){F.style.maxHeight="".concat(F.offsetHeight,"px")},onLeave:function(F){F.style.maxHeight="0px"}});return C.value?null:t(ie,Y,{default:function(){return[le(t("div",L(L({role:"alert"},v),{},{style:[v.style,J.value],class:[v.class,Q],"data-show":!i.value,ref:I}),[h?X:null,t("div",{class:"".concat(e,"-content")},[V?t("div",{class:"".concat(e,"-message")},[V]):null,w?t("div",{class:"".concat(e,"-description")},[w]):null]),W]),[[ce,!i.value]])]}})}}});const Oe=Z(Me);const G=d=>(Ae("data-v-27120ce3"),d=d(),Ee(),d),Ne=G(()=>q("div",{id:"app-one"},null,-1)),Ve=G(()=>q("div",{id:"app-two"},null,-1)),He={name:"CoexistMicroApp"},Le=z({...He,setup(d){const{user:a}=ye();let l=m(null),s=m(null);Ce(()=>{f("vue2"),f("react18")});function f(o){o==="vue2"?(l.value=j({name:"vue2App",entry:ge,container:"#app-one",props:{path:"/communication-test"}},{sandbox:{experimentalStyleIsolation:!0},singular:!1}),l.value.mountPromise.then(()=>{R(U(a))})):o==="react18"&&(s.value=j({name:"reactApp",entry:xe,container:"#app-two",props:{path:"/reactApp/communication-test"}},{sandbox:{experimentalStyleIsolation:!0},singular:!1}),s.value.mountPromise.then(()=>{R(U(a))}))}async function v(o){await y(o==="vue2"?l:s)}async function y(o){o.value&&o.value.getStatus()==="MOUNTED"&&await o.value.unmount(),o.value=null}return he(async()=>{await Promise.all([y(l),y(s)])}),(o,c)=>{const S=Oe,i=we,C=Fe,I=ke,P=be;return A(),E(P,{direction:"vertical",size:40,class:"box"},{default:r(()=>[t(S,{message:"\u5DE6\u4FA7\u5E94\u7528\u4E3AVue2\u5B50\u5E94\u7528\uFF0C\u53F3\u4FA7\u5E94\u7528\u4E3AReact18\u5B50\u5E94\u7528\u3002",type:"success"}),t(I,{gutter:20},{default:r(()=>[t(C,{span:12},{default:r(()=>[$(l)?(A(),E(i,{key:0,type:"primary",danger:"",onClick:c[0]||(c[0]=()=>v("vue2"))},{default:r(()=>[B("\u5378\u8F7DVue2\u5E94\u7528")]),_:1})):(A(),E(i,{key:1,type:"primary",onClick:c[1]||(c[1]=()=>f("vue2"))},{default:r(()=>[B("\u52A0\u8F7DVue2\u5E94\u7528")]),_:1})),Ne]),_:1}),t(C,{span:12},{default:r(()=>[$(s)?(A(),E(i,{key:0,type:"primary",danger:"",onClick:c[2]||(c[2]=()=>v("react18"))},{default:r(()=>[B("\u5378\u8F7DReact18\u5E94\u7528")]),_:1})):(A(),E(i,{key:1,type:"primary",onClick:c[3]||(c[3]=()=>f("react18"))},{default:r(()=>[B("\u52A0\u8F7DReact18\u5E94\u7528")]),_:1})),Ve]),_:1})]),_:1})]),_:1})}}});const qe=Ie(Le,[["__scopeId","data-v-27120ce3"]]);export{qe as default};
